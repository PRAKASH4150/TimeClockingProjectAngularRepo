<ngx-spinner
  bdColor="rgba(51,51,51,0.8)"
  size="medium"
  color="#fff"
  type="ball-spin-clockwise"
  [fullScreen]="true">
</ngx-spinner>
<app-authentication-navbar></app-authentication-navbar>

<div class="container-fluid">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="card mt-5">
          <div id="banner" class="card-header text-center text-white">
            <h3>Reset Password</h3>
          </div>
          <div class="card-body">
            <form #myForm="ngForm">
        <div [hidden]="entryPanelHidden">
          <div class="form-group">
            <label for="email">Email address <span class="required-field">* </span>
                          <!--<i class="fa fa-info-circle info-icon" id="tooltip" ngbTooltip="An OTP will be sent to this email"></i>-->
                      </label>
            <input type="email" class="form-control" id="email" placeholder="Enter email" name="email" [formControl]="emailFormControl"
            [(ngModel)]="timeClockingUserDetails.email">
            <div *ngIf="emailFormControl.invalid && (emailFormControl.dirty || emailFormControl.touched)">
              <div class="field-error" *ngIf="emailFormControl.hasError('required')">Email is required.</div>
              <div class="field-error" *ngIf="emailFormControl.hasError('email')">Invalid email format.</div>
            </div>
          </div>
          
          <div class="form-group">
            <label for="username">Username <span class="required-field">*</span></label>
            <input type="text" class="form-control" id="username" placeholder="Enter username" name="username" 
            [formControl]="userNameFormControl" [(ngModel)]="timeClockingUserDetails.userName">
            <div *ngIf="userNameFormControl.invalid && (userNameFormControl.dirty || userNameFormControl.touched)">
              <div class="field-error" *ngIf="userNameFormControl.hasError('required')">Username is required.</div>
            </div>
          </div>
          
          <button type="submit" class="btn btn-primary btn-block" (click)="onSubmit()">Reset</button> 

        </div>

        <div [hidden]="otpPannelHidden">
          <div class="form-group">
            <label for="otp">OTP <span class="required-field">* </span></label>
            <input type="otp" class="form-control" id="otp" 
            placeholder="Enter OTP" name="otp" [formControl]="otpFormControl"
            [(ngModel)]="timeClockingUserDetails.otp">
            <div *ngIf="otpFormControl.invalid && (otpFormControl.dirty || otpFormControl.touched)">
              <div class="field-error" *ngIf="otpFormControl.hasError('required')">OTP is required.</div>
            </div>
          </div>
        
          <button type="submit" class="btn btn-primary btn-block" (click)="verifyOtp()">Submit</button> 

        </div>

        <div [hidden]="passwordOptionHidden">
          <div class="form-group">
            <label for="password">Password <span class="required-field">*</span></label>
            <input type="password" class="form-control" id="password" placeholder="Enter password" name="password"
            [formControl]="passwordFormControl"[(ngModel)]="timeClockingUserDetails.password">
            <div *ngIf="passwordFormControl.invalid && (passwordFormControl.dirty || passwordFormControl.touched)">
              <div class="field-error" *ngIf="passwordFormControl.hasError('required')">Password is required.</div>
              </div>
          </div>
        
          <div class="form-group">
            <label for="confirmPassword">Confirm Password <span class="required-field">*</span></label>
            <input type="confirmPassword" class="form-control" id="confirmPassword" placeholder="Re-enter password" name="confirmPassword"
            [formControl]="confirmPasswordFormControl"[(ngModel)]="timeClockingUserDetails.confirmPassword">
            <div *ngIf="confirmPasswordFormControl.invalid && (confirmPasswordFormControl.dirty || confirmPasswordFormControl.touched)">
              <div class="field-error" *ngIf="confirmPasswordFormControl.hasError('required')">Password is required.</div>
              </div>
          </div>

          <button type="submit" class="btn btn-primary btn-block" (click)="changePassword()">Reset Password</button> 

        </div>
				
            </form>
          </div>
        </div>
      </div>
</div>
